# Tansore -Attendance System-
## 動作環境
### 必要CPUの種類
- Windows(バーコード作成時) : x64, Amd64<br/>
- Linux(バーコード作成時) : x86, x64, Amd64<br/>

- Windows(バーコード作成後) : x86, x64, Amd64, Arm64<br/>
- Linux(バーコード作成後) : x86, x64, Amd64, Arm64(AArch64), Arm32(AArch32)<br/>
### 使用ライブラリ(非標準)
- PySimpleGUI<br/>
- aspose.barcode<br/>
### その他
- ネットワーク環境(テザリング可)<br/>
- 常識的な空き容量(HDD・SSD・SD・Emmc・USB)<br/>
- 確認済みCPU : x64, Amd64, Arm64(AArch64)<br/>
## セットアップ
- Githubなどからソースコードをダウンロード<br/>
- pipでライブラリをインストール<br/>
```
pip install aspose-barcode-for-python-via-net 
pip install pysimplegui
```
- 個人情報CSVファイルを作成(記述方法は以下)<br/>
```
名前,メールアドレス
abc,aaa@bbb.ccc
hoge,fuga@piyo.aho
```
- install.pyを起動して指示通りインストール<br/>
- main.pyを起動して勤怠システムを使用する<br/>
- 必要があればcronやsystemdを設定する<br/>
## GUIでのマニュアル
### バーコードリーダーのセットアップ
- リーダーをコンピューターにつなぐ<br/>
- リーダーのマニュアルを見て、読み込み文字列の最後に半角スペースが出力されるように設定する<br/>
### 勤怠
- main.pyを起動して、そのままバーコードを読み取る<br/>
- "勤怠しました"と出たら成功です<br/>
### 管理者権限の取得
- バーコードファイルの作成時に設定したパスワードを入力してください<br/>
### CSVファイル関係
**管理者権限が必要です**<br/>
#### CSVファイルの閲覧
- 上のCSV閲覧のタブにファイルの内容が、書かれています<br/>
#### CSVファイルの編集(一人ずつ)
- CSV閲覧のタブにある"バーコード番号"をCSV編集のバーコードに入力して名前も入力します<br/>
- Emailアドレスは/(スラッシュ)区切りで、何個でもEmailアドレスを設定できます<br/>
- 最後に編集ボタンを押して"編集しました”と出たら成功です<br/>
### 直接でのファイルの編集
**管理者権限が必要です**<br/>
**直接でのファイルの編集は推奨しません**<br/>
- 直接編集のタブに移動します<br/>
- ファイルを選びます<br/>
- 編集が完了したら"書き換え"ボタンを押します<br/>
- "書き換えに成功しました"と出たら成功です(再起動をしてください)<br/>
- "再取得(巻き戻し)"を押すと今のファイルの状況を取得できます<br/>
### パスワードの再設定
**管理者権限が必要です**<br/>
- 設定のタブに移動します<br/>
- パスワード再設定の項目の入力箇所にパスワードを書いて<br/>
- 設定ボタンを押します<br/>
- "パスワードを変更しました"と出たら成功です(再起動をしてください)<br/>
### 勤怠情報の送信
**管理者権限が必要です**<br/>
**勤怠情報の送信は設定した日時で自動的に実行されます**<br/>
- CSV閲覧のタブに移動します<br/>
- "勤怠情報送信"ボタンを押します<br/>
- "送信しました"と出たら成功です<br/>
## ファイルの編集系
### iniファイルの編集
```
[admin]
password = SHA256のパスワード(改変はしないで)
[gmail]
mail_address = 送信先メールアドレス(Gmail)
app_pass = Gmailから取得したアプリパスワード(スペースなし)
[title_setting]
arriving = 到着時メールのタイトル(デフォルト:到着報告)
gohome = 出発時メールのタイトル(デフォルト:出発報告)
[text_setting]
arriving = 到着時メールの本文(/name/で名前)(デフォルト:/name/さんがyesに到着しました)
gohome = 出発時メールの本文(/name/で名前)(デフォルト:/name/さんがyesに出発しました)
[etc]
send_csv_deadline_day = 勤怠情報の締め切り日(デフォルト:26)
send_csv_deadline_time = 勤怠情報の締め切り時(デフォルト:8)
arriving_deadline_time = 到着の締め切り時(デフォルト:18)
arriving_isolation_period_min = 勤怠のクルータイム分(デフォルト:10)
```